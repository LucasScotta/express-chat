<!DOCTYPE html>
<html>
  <head>
    <title>Contador HTML</title>
  </head>
  <body id="body" style="background-color: black">
   <center><h1 id='count' style="color: white;">0</h1></center>
  </body>
</html>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  const element = document.getElementById('count')
  // const colors = ['red','blue','white' ,'green','orange','yellow','brown','rebeccapurple','lightblue', 'black']
  const colors = ['black', 'white', 'black', 'white', 'black', 'white', 'black', 'white', 'black', 'white']
  const colorear = () => {
    const body = document.getElementById('body')
    element.style.color = colors[Math.floor(Math.random() * colors.length)]
    if (element.style.color === 'black') {
      body.style.backgroundColor = 'white'
    }
    else {
      body.style.backgroundColor = 'black'
    }
  }
  const cambiar = (n) => {
    element.innerText = n
  }

  const count = (curr) => {
    axios
      .post('/sumar', {number: curr})
      .then((resp) => {
        const next = resp.data.number
        cambiar(next)
        colorear()
        setTimeout(() => count(next), 500)
      })
    }
    count(-1)
</script>
